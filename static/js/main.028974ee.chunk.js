(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(6),n=c.n(s),o=c(2),a=c(1),i=(c(11),c(12),c(13),c(0)),l=function(e){return Object(i.jsxs)("div",{className:"PostsList",children:[Object(i.jsx)("h2",{children:"Posts: ".concat(e.posts.length)}),Object(i.jsx)("ul",{className:"PostsList__list",children:e.posts.map((function(t){return Object(i.jsxs)("li",{className:"PostsList__item",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"[User #".concat(t.userId,"]: ")}),t.title]}),Object(i.jsx)("button",{id:t.id.toString(),type:"button",className:"PostsList__button button",onClick:function(c){var s=e.selectedPostId===t.id?0:+c.currentTarget.id;e.selectPost(s)},children:e.selectedPostId===t.id?"Close":"Open"})]},t.id)}))})]})},r="https://mate.academy/students-api",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/posts",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return fetch("".concat(r).concat(e).concat(t).concat(c),{method:s}).then((function(e){return e.ok?e.json():new Error("".concat(e.status," -- ").concat(e.statusText))}))},j=function(e){return d("/comments","","?postId=".concat(e))},u=c(3),m=c(5),b=(c(15),function(e){var t=e.postId,c=e.updateComments,s=Object(a.useState)({name:"",email:"",body:""}),n=Object(o.a)(s,2),l=n[0],d=n[1],j=l.name,b=l.email,h=l.body,O=function(){!function(e){fetch("".concat(r,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)})}({postId:t,name:j,email:b,body:h}),d({name:"",email:"",body:""}),c()},p=function(e){var t=e.target,c=t.name,s=t.value;d(Object(m.a)(Object(m.a)({},l),{},Object(u.a)({},c,s)))},x=j.length>0&&b.length>0&&h.length>0;return Object(i.jsxs)("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),O()},children:[Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"* Your email",className:"NewCommentForm__input",value:b,onChange:function(e){return p(e)}})}),Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("input",{required:!0,type:"text",name:"name",placeholder:"* Your name",className:"NewCommentForm__input",value:j,onChange:function(e){return p(e)}})}),Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("textarea",{required:!0,name:"body",placeholder:"* Comment body:",className:"NewCommentForm__input",value:h,onChange:function(e){return p(e)}})}),x&&Object(i.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"\u2705 Add a comment"})]})}),h=(c(16),function(e){var t=Object(a.useState)(),c=Object(o.a)(t,2),s=c[0],n=c[1],l=Object(a.useState)([]),r=Object(o.a)(l,2),u=r[0],m=r[1],h=Object(a.useState)(!0),O=Object(o.a)(h,2),p=O[0],x=O[1],v=Object(a.useState)(!1),f=Object(o.a)(v,2),_=f[0],N=f[1];Object(a.useEffect)((function(){var t;(t=e.selectedPostId,d("/posts","/".concat(t))).then(n),j(e.selectedPostId).then(m)}),[e.selectedPostId,_]);var P=function(){j(e.selectedPostId).then(m),N(!_)};return Object(i.jsxs)("div",{className:"PostDetails",children:[Object(i.jsx)("h3",{children:"Post details (id ".concat(null===s||void 0===s?void 0:s.id,"):")}),Object(i.jsx)("section",{className:"PostDetails__post",children:Object(i.jsx)("p",{children:null===s||void 0===s?void 0:s.body})}),Object(i.jsxs)("section",{className:"PostDetails__comments",children:[u.length&&Object(i.jsx)("button",{type:"button",className:"button",onClick:function(){return x(!p)},children:"".concat(p?"Hide":"Show"," ")+"".concat(u.length," comment(s)")})||"No comments yet",Object(i.jsx)("ul",{className:"PostDetails__list",children:p&&u.map((function(e){return Object(i.jsxs)("li",{className:"PostDetails__list-item",children:[Object(i.jsx)("button",{id:e.id.toString(),type:"button",className:"PostDetails__remove-button button",onClick:function(){var t;t=e.id,d("/comments","","/".concat(t),"DELETE"),P()},children:"X"}),Object(i.jsx)("div",{children:"Comment by ".concat(e.email)}),Object(i.jsx)("div",{children:"Name: ".concat(e.name)}),Object(i.jsx)("div",{children:"Body: ".concat(e.body)})]},e.id)}))})]}),Object(i.jsx)("section",{children:Object(i.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(i.jsx)(b,{postId:e.selectedPostId,updateComments:P})})})]})}),O=function(e){var t=e.userId,c=e.selectUser;return Object(i.jsxs)("label",{htmlFor:"user-selector",children:["Select a user: \xa0",Object(i.jsxs)("select",{id:"user-selector",className:"App__user-selector",onChange:function(e){return c(+e.target.value)},value:t,children:[Object(i.jsx)("option",{value:"0",children:"All users"}),Object(i.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(i.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(i.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(i.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(i.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(i.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(i.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(i.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(i.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(i.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})},p=function(){var e=Object(a.useState)(0),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(o.a)(n,2),j=r[0],u=r[1],m=Object(a.useState)(0),b=Object(o.a)(m,2),p=b[0],x=b[1];Object(a.useEffect)((function(){var e;(e=c,e?d("/posts","","?userId=".concat(+e)):d("/posts")).then(u)}),[c,p]);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{className:"App__header",children:Object(i.jsx)(O,{userId:c,selectUser:function(e){s(e)}})}),Object(i.jsxs)("main",{className:"App__main",children:[Object(i.jsx)("div",{className:"App__sidebar",children:Object(i.jsx)(l,{posts:j,selectPost:function(e){x(e)},selectedPostId:p||0})}),Object(i.jsx)("div",{className:"App__content",children:p?Object(i.jsx)(h,{selectedPostId:p||0}):Object(i.jsx)("h3",{children:"Pick a post to view details"})})]})]})};n.a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}],[[17,1,2]]]);
//# sourceMappingURL=main.028974ee.chunk.js.map