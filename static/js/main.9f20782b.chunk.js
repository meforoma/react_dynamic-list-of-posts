(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(4),s=c.n(n),o=c(2),a=c(1),i=(c(9),c(10),c(11),c(0)),l=function(e){return Object(i.jsxs)("div",{className:"PostsList",children:[Object(i.jsx)("h2",{children:"Posts: ".concat(e.posts.length)}),Object(i.jsx)("ul",{className:"PostsList__list",children:e.posts.map((function(t){return Object(i.jsxs)("li",{className:"PostsList__item",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"[User #".concat(t.userId,"]: ")}),t.title]}),Object(i.jsx)("button",{id:t.id.toString(),type:"button",className:"PostsList__button button",onClick:function(c){var n=e.selectedPostId===t.id?0:+c.currentTarget.id;e.selectPost(n)},children:e.selectedPostId===t.id?"Close":"Open"})]},t.id)}))})]})},r="https://mate.academy/students-api",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/posts",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET";return fetch("".concat(r).concat(e).concat(t).concat(c),{method:n}).then((function(e){return e.ok?e.json():new Error("".concat(e.status," -- ").concat(e.statusText))}))},u=function(e){return d("/comments","","?postId=".concat(e))},j=(c(13),function(e){var t=e.postId,c=e.updateComments,n=Object(a.useState)(""),s=Object(o.a)(n,2),l=s[0],d=s[1],u=Object(a.useState)(""),j=Object(o.a)(u,2),b=j[0],m=j[1],h=Object(a.useState)(""),O=Object(o.a)(h,2),p=O[0],f=O[1],x=function(){!function(e){fetch("".concat(r,"/comments"),{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)})}({postId:t,name:l,email:b,body:p}),d(""),m(""),f(""),c()},v=function(e){var t=e.target,c=t.name,n=t.value;switch(c){case"name":d(n);break;case"email":m(n);break;default:f(n)}},_=0===b.length||0===l.length||0===p.length;return Object(i.jsxs)("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),x()},children:[Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"* Your email",className:"NewCommentForm__input",value:b,onChange:function(e){return v(e)}})}),Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("input",{required:!0,type:"text",name:"name",placeholder:"* Your name",className:"NewCommentForm__input",value:l,onChange:function(e){return v(e)}})}),Object(i.jsx)("div",{className:"form-field",children:Object(i.jsx)("textarea",{required:!0,name:"body",placeholder:"* Comment body:",className:"NewCommentForm__input",value:p,onChange:function(e){return v(e)}})}),!_&&Object(i.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"\u2705 Add a comment"})]})}),b=(c(14),function(e){var t=Object(a.useState)(),c=Object(o.a)(t,2),n=c[0],s=c[1],l=Object(a.useState)([]),r=Object(o.a)(l,2),b=r[0],m=r[1],h=Object(a.useState)(!0),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(a.useState)(!1),v=Object(o.a)(x,2),_=v[0],N=v[1];Object(a.useEffect)((function(){var t;(t=e.selectedPostId,d("/posts","/".concat(t))).then((function(e){return s(e)})),u(e.selectedPostId).then((function(e){return m(e)}))}),[e.selectedPostId,_]);var P=function(){u(e.selectedPostId).then((function(e){return m(e)})),N(!_)};return Object(i.jsxs)("div",{className:"PostDetails",children:[Object(i.jsx)("h3",{children:"Post details (id ".concat(null===n||void 0===n?void 0:n.id,"):")}),Object(i.jsx)("section",{className:"PostDetails__post",children:Object(i.jsx)("p",{children:null===n||void 0===n?void 0:n.body})}),Object(i.jsxs)("section",{className:"PostDetails__comments",children:[b.length&&Object(i.jsx)("button",{type:"button",className:"button",onClick:function(){return f(!p)},children:"".concat(p?"Hide":"Show"," ")+"".concat(b.length," comment(s)")})||"No comments yet",Object(i.jsx)("ul",{className:"PostDetails__list",children:p&&b.map((function(e){return Object(i.jsxs)("li",{className:"PostDetails__list-item",children:[Object(i.jsx)("button",{id:e.id,type:"button",className:"PostDetails__remove-button button",onClick:function(){var t;t=e.id,d("/comments","","/".concat(t),"DELETE"),P()},children:"X"}),Object(i.jsx)("div",{children:"Comment by ".concat(e.email)}),Object(i.jsx)("div",{children:"Name: ".concat(e.name)}),Object(i.jsx)("div",{children:"Body: ".concat(e.body)})]},e.id)}))})]}),Object(i.jsx)("section",{children:Object(i.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(i.jsx)(j,{postId:e.selectedPostId,updateComments:P})})})]})}),m=function(e){var t=e.userId,c=e.selectUser;return Object(i.jsxs)("label",{htmlFor:"user-selector",children:["Select a user: \xa0",Object(i.jsxs)("select",{id:"user-selector",className:"App__user-selector",onChange:function(e){return c(e.target.value)},value:t,children:[Object(i.jsx)("option",{value:"all",children:"All users"}),Object(i.jsx)("option",{value:"1",children:"Leanne Graham"}),Object(i.jsx)("option",{value:"2",children:"Ervin Howell"}),Object(i.jsx)("option",{value:"3",children:"Clementine Bauch"}),Object(i.jsx)("option",{value:"4",children:"Patricia Lebsack"}),Object(i.jsx)("option",{value:"5",children:"Chelsey Dietrich"}),Object(i.jsx)("option",{value:"6",children:"Mrs. Dennis Schulist"}),Object(i.jsx)("option",{value:"7",children:"Kurtis Weissnat"}),Object(i.jsx)("option",{value:"8",children:"Nicholas Runolfsdottir V"}),Object(i.jsx)("option",{value:"9",children:"Glenna Reichert"}),Object(i.jsx)("option",{value:"10",children:"Leanne Graham"})]})]})},h=function(){var e=Object(a.useState)("all"),t=Object(o.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),r=Object(o.a)(s,2),u=r[0],j=r[1],h=Object(a.useState)(null),O=Object(o.a)(h,2),p=O[0],f=O[1];Object(a.useEffect)((function(){var e;(e=c,"all"===e?d("/posts"):d("/posts","","?userId=".concat(+e))).then((function(e){j(e)}))}),[c,p]);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("header",{className:"App__header",children:Object(i.jsx)(m,{userId:c,selectUser:function(e){n(e)}})}),Object(i.jsxs)("main",{className:"App__main",children:[Object(i.jsx)("div",{className:"App__sidebar",children:Object(i.jsx)(l,{posts:u,selectPost:function(e){f(e)},selectedPostId:p||0})}),Object(i.jsx)("div",{className:"App__content",children:p?Object(i.jsx)(b,{selectedPostId:p||0}):Object(i.jsx)("h3",{children:"Pick a post to view details"})})]})]})};s.a.render(Object(i.jsx)(h,{}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.9f20782b.chunk.js.map